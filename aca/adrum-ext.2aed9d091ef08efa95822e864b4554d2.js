;/* Version 2aed9d091ef08efa95822e864b4554d2 v:4.3.3.0, c:DEVBUILD, b:9358 n:1135-4.3.3.next-build */(function(){/*


 Copyright (c) 2013, AppDynamics, Inc. All rights reserved.

 Derivative of Google Episodes:

 Copyright 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 See the source code here:
 http://code.google.com/p/episodes/
*/
new function(){var h=window.ADRUM;if(h&&h.q&&!0!==window["adrum-disable"]){(function(a){(function(b){b.O=function(g){function e(a){return a.replace(/\s/g,"")===d}var c={a:[1,2,3,"str"]},d='{"a":[1,2,3,"str"]}';if("undefined"!==typeof JSON&&JSON&&b.isFunction(JSON.stringify)&&e(JSON.stringify(c)))return JSON.stringify(g);if("undefined"!==typeof Object&&Object&&b.isFunction(Object.toJSON)&&e(Object.toJSON(c)))return Object.toJSON(g);a.error("M69");return null};b.Ma=function(g,e,c){var d=g,f=c;"xhr"===
c&&(d=document.createElement("div"),g.appendChild(d),f="xhr_"+g.getElementsByTagName("div").length);g=document.createElement("p");g.innerHTML="Script loaded from "+a.conf.adrumExtUrl+". Metrics collected are:";d.appendChild(g);g=document.createElement("table");g.id="ADRUM_"+f;var f=document.createElement("tbody"),p;for(p in e){c=document.createElement("tr");var b=document.createElement("td");b.innerHTML=p;b.className="name";var m=document.createElement("td");m.innerHTML=String(e[p]);m.className="value";
c.appendChild(b);c.appendChild(m);f.appendChild(c)}g.appendChild(f);d.appendChild(g)};b.Df=function(){function a(e,c){try{if("object"!=typeof e)return String(e);if(0<=b.ma(c,e))return"Already visited";c.push(e);var d;if(b.isArray(e)){for(var f="[ ",p=0;p<e.length;p++)0!=p&&(f+=", "),f+=a(e[p],c);d=f+" ]"}else{var f="{ ",p=!0,q;for(q in e)p?p=!1:f+=", ",f+=a(q,c)+" => "+a(e[q],c);d=f+" }"}return d}catch(m){return"dumpObject failed: "+m}}return function(e){return a(e,[])}}();b.ma=b.isFunction(Array.prototype.indexOf)?
function(a,e){return a.indexOf(e)}:function(a,e){for(var c=0;c<a.length;c++)if(a[c]==e)return c;return-1};b.compareWindows=function(a,e){return a==e};b.Sa=function(a,e,c,d,f){if(!b.isDefined(e))return e;if(b.isArray(e)){a=[];for(var p=0,q=e.length;p<q;p++)a[p]=b.Sa(p,e[p],c,d,f);return a}if(b.isFunction(e))return e;if(b.isObject(e)){a={};for(p in e)b.hasOwnPropertyDefined(e,p)&&(a[c(p)]=f&&f(p)?e[p]:b.Sa(p,e[p],c,d,f));return a}return d(a,e)};b.Ig=function(a){var e=[],c;for(c in a)b.hasOwnPropertyDefined(a,
c)&&e.push([c,a[c]]);return e};b.xh=function(){try{localStorage.setItem("try","try");var a=localStorage.getItem("try");localStorage.removeItem("try");return"try"===a}catch(e){return!1}};b.wh=function(){try{var a=b.O({v:1});return 1===JSON.parse(a).v}catch(e){return!1}};b.yh=function(){return b.isFunction(window.postMessage)};b.tf=function(a,e){var c=document.createElement("div");c.innerHTML='<iframe id="'+e+'" src='+a+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>';
document.body.appendChild(c);return document.getElementById(e)};b.nh=function(a,e){b.isDefined(e)&&(a.parentPageName=e)};b.Ua=function(a){return b.isNumber(a)&&isFinite(a)&&Math.floor(a)===a};b.kc=function(b){a.log(b);console&&console.log&&console.log(b)}})(a.utils||(a.utils={}))})(h||(h={}));(function(a){(function(a){a.Cd=function(a){return/^[0-9]+$/.test(a)?Number(a):null};a.Kc=function(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}})(a.utils||(a.utils={}))})(h||(h={}));(function(a){(function(b){function g(f){var d=
f.split("\r\n"),c=/^\s*ADRUM_(\d+): (.+)\s*$/i;f=[];for(var e=0;e<d.length;e++){var b=d[e];try{var g=c.exec(b);g&&f.push([Number(g[1]),g[2]])}catch(h){a.exception(h,"M72",b)}}Array.prototype.sort.call(f,function(a,d){return a[0]-d[0]});g=[];for(d=0;d<f.length;d++)g.push(f[d][1]);return g}var e=a.utils.hasOwnPropertyDefined,c=null,d=null;b.Cc=function(){d||(d=b.Xc(b.bb(b.cookieMetadataChunks),b.bb(a.footerMetadataChunks)));return d};b.getPageGUID=function(){var d=a.monitor.DOMEventsMonitor,e=a.utils.isObject(d.currentBasePage)&&
a.utils.isFunction(d.currentBasePage.guid);if(!c){var g=b.Cc();c=g&&g.clientRequestGUID||(e?d.currentBasePage.guid():a.utils.generateGUID())}return c};b.cg=function(d){d=g(d);a.log("M70",d);return b.Xc(b.bb(d))};b.Xc=function(d,c){function e(d){for(var f=0;f<d.length;f++){var c=d[f];c!=g&&0>a.utils.ma(l,c)&&l.push(c)}}if(!d||0>=d.L.length)return null;c||(c=d);var g;if(0<c.L.length){if(g=c.L[0],0>a.utils.ma(d.L,g))return null}else return a.error("M71"),null;var r=c.serverSnapshotType||d.serverSnapshotType,
h=c.hasEntryPointErrors||d.hasEntryPointErrors,l=[];e(d.L);e(c.L);var s={clientRequestGUID:g,btGlobalAccountName:d.btGlobalAccountName};0<l.length&&(s.otherClientRequestGUIDs=l);0<b.Wc(d.btTime,c.btTime).length&&(s.btTime=b.Wc(d.btTime,c.btTime));null!==r&&(s.serverSnapshotType=r);null!==h&&(s.hasEntryPointErrors=h);return s};b.Wc=function(a,d){for(var c=a.concat(d),b={},g={},h=0;h<c.length;h++){var l=c[h];l.id in b||(b[l.id]=-1);b[l.id]=Math.max(b[l.id],l.duration);l.id in g||(g[l.id]=-1);g[l.id]=
Math.max(g[l.id],l.ert)}var c=[],s;for(s in b)e(b,s)&&c.push({id:s,duration:b[s],ert:g[s]});return c};b.bb=function(d){if(!a.utils.isArray(d))return null;for(var c=[],e=null,b=[],g=null,h=null,l=0;l<d.length;l++){var s=d[l];if("string"!==typeof s)return null;s=s.replace(/^"|"$/g,"");s=decodeURIComponent(s).split(",")[0].replace(/^\s+|\s+$/g,"").split(":");if(2===s.length){var t=s[1];switch(s[0]){case "clientRequestGUID":case "g":c.push(t);break;case "btId":case "i":b.push({id:t,duration:-1,ert:-1});
break;case "btDuration":case "d":if(0===b.length)return null;s=a.utils.Cd(t);if(!a.utils.Kc(s)||-1>s)return null;b[b.length-1].duration=s;break;case "btERT":case "e":if(0===b.length)return null;s=a.utils.Cd(t);if(!a.utils.Kc(s)||-1>s)return null;b[b.length-1].ert=s;break;case "serverSnapshotType":case "s":g=t;break;case "globalAccountName":case "n":e=t;break;case "hasEntryPointErrors":case "h":h=t}}}return 0===c.length?null:{L:c,btGlobalAccountName:e,btTime:b,serverSnapshotType:g,hasEntryPointErrors:h}};
b.zi=g})(a.correlation||(a.correlation={}))})(h||(h={}));(function(a){var b=a.conf||(a.conf={});b.Vh=3E3;b.Hd=a.isDebug;b.Xe=1E3;b.ye=2;b.xe=5;b.se=5;b.te=20;b.Jb=5E3;b.J=512;b.ce=10;b.be=64;b.Ie=10;b.He=10;b.De=300;b.Lb=2048;b.U=2048;b.Wh=760;b.Tc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",
httpHeaders:"hh",parameter:"pa",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",xhrStatus:"xs",btTime:"bt",btGlobalAccountName:"btgan",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",
eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md",clientId:"ci"}})(h||(h={}));(function(a){a=a.beacons||(a.beacons={});a.numBeaconsSent=0;a.beaconsSent=[]})(h||(h={}));(function(a){(function(b){var g=function(){function e(){}e.prototype.send=function(c,d){var f=(d?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+
a.conf.corsEndpointPath+"/"+a.conf.appKey+"/adrum",e;a.utils.isFunction(a.xhrConstructor)&&a.utils.isFunction(a.xhrOpen)?(e=new a.xhrConstructor,a.xhrOpen.call(e,"POST",f)):(e=new XMLHttpRequest,e.open("POST",f));e.setRequestHeader("Content-type","text/plain");var g=a.utils.O(c);null!=g&&(a.utils.isFunction(a.xhrSend)?a.xhrSend.call(e,g):e.send(g),a.log("M73"+f+"\n"),a.log("<hr/>"),a.isDebug&&b.beaconsSent.push(c),b.numBeaconsSent+=1)};return e}();b.Yd=g})(a.beacons||(a.beacons={}))})(h||(h={}));
h||(h={});(function(a){var b=function(){function b(a,c,d){this.ra=a;this.mg=c;this.qb=d}b.prototype.Bc=function(){try{return b.xc(this.mg.ADRUM)}catch(e){return a.error("M74"),b.xc(a)}};b.xc=function(a){return a.correlation.getPageGUID()};return b}();a.Vd=b})(h||(h={}));(function(a){a.beacons||(a.beacons={})})(h||(h={}));(function(a){(function(a){var g=function(){function e(){this.na=[];this.Na={}}e.prototype.qa=function(c){if(!c)return"";if(a.hasOwnPropertyDefined(this.Na,c))return this.Na[c];var d=
this.na.length;this.Na[c]=d;this.na[d]=c;return d};return e}();a.Ib=g})(a.utils||(a.utils={}))})(h||(h={}));(function(a){(function(b){var g=a.utils.map,e=function(){function a(){}a.sh=function(a){a=(a||"").match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]*)?(#[\s\S]*)?/);var f={};a[1]&&(f.protocol=a[1].substring(0,a[1].length-3));a[2]&&(f.path=a[2]);a[3]&&(f.eh=a[3]);a[4]&&(f.anchor=a[4]);return f};a.Hf=function(d,f){var e=a.sh(d),b="";e.protocol&&(b+=f.qa(e.protocol),b+="://");e.path&&(b+=g(e.path.split("/"),
f.qa,f).join("/"));return b+=g([e.eh,e.anchor],function(a){return a?a[0]+f.qa(a.slice(1)):""},f).join("")};a.Ff=function(a,f){return""+f.qa(a)};return a}();b.zb=e})(a.beacons||(a.beacons={}))})(h||(h={}));(function(a){(function(b){(function(b){function e(){var f=null,c=null;try{f=localStorage[d]}catch(e){}if(f)try{f=c=JSON.parse(f),a.utils.isObject(f)&&a.utils.isNumber(f[q])&&-1<f[q]?m=c:a.error("M75")}catch(b){a.exception(b,"M76");try{delete localStorage[d]}catch(p){a.exception(p,"M77")}}}function c(){try{var c=
a.channel,e=m[f]||m[p],b=c&&c.I&&c.I.F&&c.I.F.id||(a.utils.isString(e)?e:a.utils.generateGUID());m[f]=m[p]=b;localStorage[d]=a.utils.O(m)}catch(g){}}var d="ADRUM_CLIENTINFO",f="agentId",p="clientId",q="seqId",m;e();m||(m={seqId:0});c();b.Uf=function(){e();var a=m[q]++;c();return a}})(b.gc||(b.gc={}))})(a.ud||(a.ud={}))})(h||(h={}));(function(a){(function(b){var g=function(){function e(){this.Q={oa:!1};this.hd=/;jsessionid=[^/?]+/;b.mergeJSON(this.Q,a.conf.userConf.Q);b.isBoolean(this.Q.oa)||b.isArray(this.Q.oa)||
(a.log("M78"),this.Q.oa=!1)}e.rh=function(a){for(var d=0,f=0;f<a.length;f++)d=(d<<5)-d+a.charCodeAt(f),d|=0;return d};e.prototype.bg=function(a){var d="",f,e;if(!b.isString(a))return"";f=a.indexOf("?")+1;0<f&&(e=a.indexOf("#"),0>e?d=a.substring(f):f<=e&&(d=a.substring(f,e)));return d};e.prototype.Kf=function(a){var d="",f=this.Q.oa,e={},g=0,m,h,k;if(!b.isString(a)||""===a)return"";if(!1===f)return a;m=this.bg(a);if(""===m)return a;if(b.isArray(f)){for(k=0;k<f.length;k++)e[f[k]]=!0;f=m+"&";for(k=0;k<
f.length;k++)switch(f[k]){case "=":h=f.substring(g,k);break;case "&":case ";":h=h||f.substring(g,k),k++,e[h]||(d+=f.substring(g,k)),g=k,h=null}d=d.substring(0,d.length-1)}""==d&&(m="?"+m);return a.replace(m,d)};e.prototype.H=function(a){if(null===a||void 0===a)return null;if(""===a)return"";var d=a.match(this.hd),f=a;if(null!=d){var e=a.indexOf("?");if(0>e||e>d.index)f=a.replace(this.hd,"")}return f=this.Kf(f)};e.prototype.qc=function(a){if(null===a||void 0===a)return null;var d=a.indexOf("?"),f=
a.indexOf("#");0>d&&(d=Number.MAX_VALUE);0>f&&(f=Number.MAX_VALUE);return a.substring(0,Math.min(d,f))};e.prototype.Rg=function(a){if(null===a||void 0===a)return null;var d=this.qc(a);return d+"?"+e.rh(a.substring(d.length))};return e}();b.ai=g;b.n=new g})(a.utils||(a.utils={}))})(h||(h={}));(function(a){a=a.R||(a.R={});a.N||(a.N={})})(h||(h={}));(function(a){a=a.R||(a.R={});a.N||(a.N={})})(h||(h={}));(function(a){(function(b){(function(b){var e=function(){function e(d,f,c){this.fh=0;this.fb=[];this.Fc=
!1;this.gg=c;var b=this;a.utils.addEventListener(window,"message",function(a){b.Wg(a)});this.fg=a.utils.tf(f,d)}e.prototype.Wg=function(d){var f;try{if(f=JSON.parse(d.data),a.utils.isDefined(f)&&!0===f.success)if(-1===f.id&&"iframe-ready"===f.data)this.Fc=!0,this.gg();else{if(this.fb[f.id])this.fb[f.id](f.data)}else a.error("M79"+d.data+"]")}catch(e){a.exception(e,"M80")}};e.prototype.send=function(d,f,e,c){if(this.Fc){var b=this.fh++;this.fb[b]=c;this.fg.contentWindow.postMessage(a.utils.O({id:b,
action:d,key:f,value:e}),"*")}};e.prototype.generateGUID=function(a,f){this.send("generateGUID",a,null,f)};return e}();b.$d=e})(b.N||(b.N={}))})(a.R||(a.R={}))})(h||(h={}));(function(a){(function(b){var g=function(){function d(){this.$b=new e(d.Rd);this.Od=new e(d.Td);this.Qh=new c(d.Sd)}d.prototype.init=function(f){this.channel=f;a.utils.xh()&&a.utils.wh()?a.utils.yh()&&d.Eg()?this.Hh():this.Id():d.Yc=!0};d.prototype.Id=function(){var f=this.$b.load();d.Cg(f)||(f={ver:a.conf.agentVer,id:a.utils.generateGUID()},
this.$b.save(f));d.F=f};d.prototype.Hh=function(){var f=this.Od.load();if(d.Dg(f))d.F=f;else{a.log("M81");var e=this;this.Qh.load(function(f){f&&(f={ver:a.conf.agentVer,id:f,ttl:(new Date).getTime()+d.de},e.Od.save(f),d.F=f,a.log("M82"))});e=this;a.utils.tryPeriodically(d.Ha,function(){return e.isReady()},function(){e.onReady()},function(){e.$a()})}};d.Eg=function(){return a.conf.userConf&&a.conf.userConf.xd&&a.conf.userConf.xd.enable};d.Cg=function(a){return a&&a.id&&0<a.id.length};d.Dg=function(a){return a&&
a.id&&0<a.id.length&&0===a.id.indexOf("XD_")&&a.ttl>(new Date).getTime()};d.prototype.isReady=function(){return d.Yc||a.utils.isDefined(d.F)};d.prototype.onReady=function(){this.channel.onResolverReady()};d.prototype.$a=function(){a.log("M83");this.Id();this.channel.onResolverReady()};d.Ha=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};d.Rd="ADRUM_AGENT_INFO";d.Td="ADRUM_XD_AGENT_INFO";d.Sd="ADRUM_XD_AGENT_ID";d.de=6048E5;d.Yc=!1;return d}();b.I=g;var e=function(){function d(a){this.Zb=a}d.prototype.load=
function(){var d=null;try{var e=localStorage.getItem(this.Zb);e&&(d=JSON.parse(e))}catch(c){a.exception(c,"M84")}return d};d.prototype.save=function(d){try{var e=a.utils.O(d);e&&localStorage.setItem(this.Zb,e)}catch(c){a.exception(c,"M85")}};return d}(),c=function(){function d(a){this.ef=a}d.prototype.load=function(d){var e=this;try{var c=new a.R.N.$d("cross-domain-store-server-iframe",a.conf.adrumXdUrl,function(){c.generateGUID(e.ef,d)})}catch(b){a.exception(b,"M86")}};return d}()})(a.channel||(a.channel=
{}))})(h||(h={}));(function(a){(function(b){var g=a.utils.isString,e=function(){function e(){}e.prototype.Xa=function(d,f,b){d={ver:a.conf.agentVer,dataType:"R",rootGUID:b.Bc(),events:d};a.channel.I.F&&a.channel.I.F.id&&(d.agentId=a.channel.I.F.id);f&&(d.geo=f);return e.$g(d)};e.$g=function(d){a.isDebug||(d=e.pf(d));return d};e.pf=function(d){var f=new a.utils.Ib,p=new a.utils.Ib;d=a.utils.Sa(null,d,e.Ra,function(d,m){g(m)&&m.length>a.conf.Lb&&(m=m.substr(0,a.conf.Lb));e.Bg(d)&&(g(m)&&m.length>a.conf.J&&
(m=3<a.conf.J?m.substr(0,a.conf.J-3):"",m+="..."),m=b.zb.Hf(m,f));e.ug(d)&&(m=b.zb.Ff(m,p));return m},e.Kg);d[e.Ra("guids")]=p.na;d[e.Ra("urlParts")]=f.na;return d};e.Bg=function(a){return"eventUrl"==a||"parentUrl"==a||"pageReferrer"==a||"pageUrl"==a||"u"==a};e.ug=function(a){return"eventGUID"==a||"parentGUID"==a||"rootGUID"==a||"clientRequestGUID"==a};e.Ra=function(d){if(a.conf.Hd)return d;var e=a.conf.Tc[d];return"undefined"===typeof e?d:e};e.Kg=function(a){a=""+a;return 0===a.indexOf("userData")||
"parameter"===a};return e}();b.Xd=e})(a.beacons||(a.beacons={}))})(h||(h={}));(function(a){(function(b){var g=function(){function e(){}e.prototype.send=function(a,d){for(var e=0;e<a.length;e++)this.lh(a[e],d)};e.prototype.lh=function(e,d){var f=(d?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.imageEndpointPath,g=document.createElement("img");try{g.src=f+e}catch(h){}a.isDebug&&b.beaconsSent.push(e);b.numBeaconsSent+=1};return e}();b.oe=g})(a.beacons||(a.beacons={}))})(h||(h={}));(function(a){(function(a){a.ba=
function(a,e){if(3>=e)return"...";a.length>e&&(a=a.substring(0,e-3)+"...");return a};a.Ed=function(a,e){if(3>=e)return"...";a.length>e&&(a=a.substring(0,(e-3)/2)+"..."+a.substring(a.length-(e-3)/2,a.length));return a};a.Eh=function(g,e){g.length<=e||(g=a.ba(g,e-1),g+=":");return g};a.Ch=function(g,e,c,d,f,p){g=a.Eh(g,d);c=a.ba(c,f);g.length+e.length+c.length>p-3&&(e=a.ba(e,p-3-g.length-c.length));return 0<c.length?g+"//"+e+":"+c:g+"//"+e};a.Dh=function(g,e,c){g=a.map(g,function(d){return a.Ed(d,e)});
if(g.length>c){var d=g[0];g=g.slice(g.length-c);g.unshift("...");""==d&&g.unshift(d)}return g};a.Fh=function(g,e,c,d,f){d=a.Ch(g.protocol,g.hostname,g.port,d,f,e);c--;f=a.ba(g.search,e);c--;var p=a.ba(g.hash,e);c--;g=g.pathname.split("/");var h="";0<g.length&&(h=g.pop(),h=a.Ed(h,e),c--);g=a.Dh(g,e,c);return 0==g.length?d+h+f+p:d+g.join("/")+"/"+h+f+p}})(a.utils||(a.utils={}))})(h||(h={}));(function(a){(function(a){var g=function(){function a(){}a.Ta=function(){for(var c=0;c<a.Gb.length;c++)a.C[a.Gb[c]]=
a.w.je;for(c=0;c<a.Eb.length;c++)a.C[a.Eb[c]]=a.w.ge;a.C.js=a.w.Re;a.C.css=a.w.CSS;a.C.svg=a.w.Te;a.C.html=a.w.Fb;a.C.htm=a.w.Fb};a.Qa=function(a){return a.duration?a.duration:a.responseEnd&&a.startTime?a.responseEnd-a.startTime:-1};a.Ac=function(c){var d;return(c=c.pathname)&&-1!=(d=c.lastIndexOf("."))?a.C[c.substring(d+1,c.length).toLowerCase()]||a.w.Ob:a.w.Ob};a.w={je:"img",Re:"script",CSS:"css",Te:"svg",Fb:"html",ge:"font",Ob:"other"};a.Gb="bmp gif jpeg jpg png webp".split(" ");a.Eb=["ttf","woff",
"otf","eot"];a.C={};return a}();a.V=g;g.Ta()})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(){function a(c){function d(a){f.marks.push(0==c[a]?-1:Math.round(c[a]-f.$c))}this.marks=[];var f=this;this.$c=c.startTime;this.sg(c)?(this.uc=a.Ab,d("startTime"),d("fetchStart")):(this.uc=a.Qb,d("startTime"),d("redirectStart"),d("redirectEnd"),d("fetchStart"),d("domainLookupStart"),d("domainLookupEnd"),d("connectStart"),d("connectEnd"),d("requestStart"),d("responseStart"));
d("responseEnd")}a.Vf=function(){var c={};c[a.Qb]=a.Qe;c[a.Ab]=a.Zd;return c};a.prototype.sg=function(a){return this.B(a.redirectStart)&&this.B(a.redirectEnd)&&this.B(a.domainLookupStart)&&this.B(a.domainLookupEnd)&&this.B(a.connectStart)&&this.B(a.connectEnd)&&this.B(a.requestStart)&&this.B(a.responseStart)&&this.B(a.secureConnectionStart)};a.prototype.B=function(a){return!a||0===a};a.Qb=1;a.Ab=2;a.Qe="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart connectEnd requestStart responseStart responseEnd".split(" ");
a.Zd=["startTime","fetchStart","responseEnd"];return a}();a.Pb=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(){function a(){}a.prototype.za=function(a,d){if(a)return a.slice(0,d)};return a}();a.he=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(){function e(){}e.prototype.za=function(e,d){if(e){if(e.length<=d)return e;for(var f=[],g=0;g<e.length;g++)f.push({gb:e[g],index:g});f.sort(function(d,f){return-(a.V.Qa(d.gb)-a.V.Qa(f.gb))});
f=f.slice(0,d);f.sort(function(a,d){return a.index-d.index});for(var h=[],g=0;g<f.length;g++)h.push(f[g].gb);return h}};return e}();a.Tb=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(){function e(){}e.prototype.za=function(e,d){if(e){if(e.length<=d)return e;for(var f=1,g=Math.floor(Number.MAX_VALUE/4),h=e.length;f<g;){for(var m=e.length-1;0<=m;m--)if(a.V.Qa(e[m])<f&&(e.splice(m,1),h--),h<=d)return e;f*=4}return(new a.Tb).za(e,d)}};return e}();a.Pe=g})(a.events||
(a.events={}))})(h||(h={}));(function(a){(function(b){var g=a.utils.hasOwnPropertyDefined,e=function(){function d(f,e){this.version=2;this.resourceTimingInfo={};this.Ic={};this.Jc={};this.ld={};this.md={};this.hb=[];this.bf=function(d,f){if(d&&f&&0<f.length){this.Ah=d;for(var e=new c,g=new c,p=0;p<f.length;p++){var h=f[p],q=a.utils.parseURI(a.utils.n.H(h.name)),z=h.initiatorType,A=b.V.Ac(q),y=new b.Pb(h);this.hb.push({u:this.Gh(q),i:e.wc(this.Jc,z),r:g.wc(this.md,A),f:y.uc,o:0===p&&h.isBase?1:Math.round(y.$c),
m:y.marks,s:a.utils.isDefined(h.transferSize)?h.transferSize:-1})}}};var g=d.Sf();this.mf(g,f);f=this.ih(g,f);this.bf(e||a.monitor.perfMonitor.navTiming&&a.monitor.perfMonitor.navTiming.navigationStart,f);this.clearResourceTimings()}d.Ta=function(){var f=a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.sampler;d.hh=f&&"FirstN"==f?new b.he:f&&"TopN"==f?new b.Tb:new b.Pe};d.prototype.Gc=function(a,d){a[d]=a[d]?a[d]+1:1};d.prototype.Gh=function(d){return a.utils.Fh(d,"number"===
typeof a.conf.userConf.maxResUrlSegmentLength?a.conf.userConf.maxResUrlSegmentLength:a.conf.be,"number"===typeof a.conf.userConf.maxResUrlSegmentNumber?a.conf.userConf.maxResUrlSegmentNumber:a.conf.ce,a.conf.Ie,a.conf.He)};d.prototype.mf=function(a,d){a&&this.Hc(a);if(d&&0<d.length)for(var e=0;e<d.length;e++)this.Hc(d[e])};d.prototype.Hc=function(d){var e=a.utils.parseURI(a.utils.n.H(d.name)),e=b.V.Ac(e);this.Gc(this.Ic,d.initiatorType);this.Gc(this.ld,e)};d.prototype.ih=function(e,c){if(c&&0<c.length){var b=
a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.maxNum||a.conf.De;e&&b--;c=d.hh.za(c,b);e&&c.unshift(e)}return c};d.prototype.build=function(){return 0==this.hb.length?null:{v:this.version,ic:this.Ic,it:this.Jc,rc:this.ld,rt:this.md,f:b.Pb.Vf(),t:this.Ah,r:this.hb}};d.Sf=function(){var d=a.monitor.perfMonitor.navTiming,e=null;if(d){var e={},c;for(c in d)g(d,c)&&(e[c]=d[c]);e.initiatorType="other";e.name=document.URL;e.navigationStart&&!e.startTime&&(e.startTime=e.navigationStart);
e.isBase=!0}return e};d.prototype.clearResourceTimings=function(){var d=a.monitor.PerformanceMonitor.perf;a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.clearResTimingOnBeaconSend&&d&&a.utils.isFunction(d.clearResourceTimings)&&d.clearResourceTimings()};return d}();b.ResourceTimingInfoBuilder=e;var c=function(){function a(){this.Lg=1}a.prototype.wc=function(a,d){a[d]||(a[d]=this.Lg++);return a[d]};return a}();e.Ta()})(a.events||(a.events={}))})(h||(h={}));(function(a){a.events||
(a.events={})})(h||(h={}));(function(a){(function(b){var g=function(){function e(){}e.prototype.make=function(e,d){void 0===d&&(d={});var f={eventGUID:e.guid(),eventType:e.type(),eventUrl:a.utils.n.H(e.url()||document.URL),timestamp:a.utils.now()};e.type()!==a.EventType.PageView&&a.utils.mergeJSON(f,{parentGUID:e.parentGUID()||a.correlation.getPageGUID(),parentUrl:a.utils.n.H(e.parentUrl()||document.URL),parentType:e.parentType()||(a.utils.compareWindows(top,window)?a.EventType.PageView:a.EventType.IFRAME)});
var g=a.EventType[e.type()],g=b.W.dg(g,a.conf.userConf,d,a.conf.U),h;for(h in g)f[h]=g[h];return f};return e}();b.fa=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(b){var g=a.utils.isNumber,e=a.utils.isString,c=a.utils.isObject,d=a.utils.kc,f=a.utils.Ua,p=a.utils.isBoolean,h=function(){function b(){}b.Za=function(d,e){var f=!1;if(c(d)){var b=a.utils.O(d);if(!b||b.length<=e)f=!0}return f};b.vh=function(a,d,f){if(e(d))if(d.length>f)b.ua(a,f,d.length);else return d;else b.Wa(a,"string")};
b.va=function(a,d){return function(e,f,g){if(c(f)){var p,h;for(h in f)a(f[h])?(p=p||{},p[h]=f[h]):b.Wa(e,d,h);if(p){if(b.Za(p,g))return p;b.ua(e,g)}}else b.Wa(e,"object")}};b.Wa=function(a,e,f){d(a+" dropped because it was not a "+e+(f?", field name "+f:""))};b.ua=function(a,e,f){d("User event info field "+a+" dropped because it is too long"+(f?" ("+f+" exceeds "+e+")":""))};b.dg=function(d,e,f,g){if(d=e&&e.userEventInfo&&e.userEventInfo[d])if(f=a.utils.isFunction(d)?d.call(null,f):d,c(f))return b.Lh(f,
g)};b.Lh=function(a,d){var e={},f;for(f in b.sc)if(f in a){var c=b.sc[f](f,a[f],d);c&&(e[f]=c)}return e};b.Ug=b.va(e,"string");b.Tg=b.va(f,"integer");b.Zc=b.va(g,"number");b.Sg=b.va(p,"boolean");b.sc={userPageName:b.vh,userData:b.Ug,userDataLong:b.Tg,userDataDouble:b.Zc,userDataBoolean:b.Sg,userDataDate:b.Zc};return b}();b.W=h})(a.events||(a.events={}))})(h||(h={}));var u=this.$e||function(a,b){function g(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);g.prototype=b.prototype;
a.prototype=new g};(function(a){(function(b){var g=a.utils.isDefined,e=function(e){function d(){e.apply(this,arguments)}u(d,e);d.setPageName=function(a){d.Jh=a};d.addUserData=function(a,e){d.ca=d.ca||{};d.ca[a]=e};d.prototype.make=function(f){f=e.prototype.make.call(this,f||new b.PageView);var p=this.Yf(),h=this.Tf();a.conf.viz&&(p&&a.utils.Ma(document.getElementById(a.conf.viz),p,"navtime"),a.utils.Ma(document.getElementById(a.conf.viz),h,"cookie"));h.PLC=1;p&&(p.PLC=1);0<a.monitor.ErrorMonitor.errorsSent&&
(h.EPM=1,p&&(p.EPM=1));a.utils.mergeJSON(f,{eventGUID:a.correlation.getPageGUID(),eventType:a.utils.compareWindows(top,window)?a.EventType.PageView:a.EventType.IFRAME,cookieMetrics:h});var m=-1;p&&p.timestamp?m=p.timestamp:h&&h.timestamp&&(m=h.timestamp);0<m&&a.utils.mergeJSON(f,{timestamp:m});p&&(f.metrics=p);document.referrer&&null!==document.referrer&&0<document.referrer.length&&(f.pageReferrer=a.utils.n.H(document.referrer));p=d.Zf();0<p.length&&(f.pageTitle=p);p=a.correlation.Cc();null!==p&&
(f.serverMetadata=p);p=a.monitor.perfMonitor.resTiming?(new b.ResourceTimingInfoBuilder(a.monitor.perfMonitor.resTiming)).build():null;null!==p&&(f.resourceTimingInfo=p);!g(f.userData)&&g(d.ca)&&(b.W.Za(d.ca,a.conf.U)?f.userData=d.ca:b.W.ua("userData",a.conf.U));a.utils.isDefined(f.userPageName)||(f.userPageName=d.Jh);d.userPageName=f.userPageName;return f};d.prototype.Yf=function(){if(!a.monitor.perfMonitor.navTiming)return null;var e={},c=d.yc(a.monitor.perfMonitor.navTiming,e,"NT"),g=b.metricSpec[a.EventType.PageView],
h;for(h in g){var r=g[h];c.add(r.name,r.start,r.end)}e.timestamp=a.monitor.perfMonitor.navTiming.navigationStart;return e};d.prototype.Tf=function(){var e={};a.commands.marks&&(d.yc(a.commands.marks,e,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),e.timestamp=a.commands.marks.starttime?a.commands.marks.starttime:a.commands.marks.firstbyte);return e};
d.Zf=function(){var d=a.conf.userConf,d=d&&d.page,e;e=d&&"captureTitle"in d?d.captureTitle:!0;var b,c;d&&(b="title"in d,c=d.title);b=e?b?a.utils.isFunction(c)?c():c:document.title:"";if(a.utils.isString(b))return b;a.utils.kc("Ignoring wrong type of page title: "+typeof b);return""};d.af=function(d,e,b,c,g,h){e=c[e];b=c[b];e&&b?g[d]=b-e:a.log("M87",h,d,e,b)};d.yc=function(a,e,b){var c={add:function(g,h,l){d.af(g,h,l,a,e,b);return c}};return c};return d}(b.fa);b.D=e})(a.events||(a.events={}))})(h||
(h={}));(function(a){(function(b){(function(b){function e(b,f){var g,m=f[b],k=typeof m;t.push(b);var w=s[t.join(".")];if(a.utils.isFunction(w))g=w(m);else switch(k){case "string":g="number"==typeof w?r(m,d,w):d(m);break;case "number":g=q(m);break;case "object":if(m)if(a.utils.isArray(m))g=h(m,!1,!1);else{g=[];for(var v in m)l(m,v)&&(k=e(v,m))&&(c(b)&&"timestamp"==v||g.push({ta:v,v:k}));if(c(b)){for(m=0;m<g.length;m++)g[m]=g[m].ta+d(":")+g[m].v;g=d("{")+g.join(d(","))+d("}")}else{for(m=0;m<g.length;m++)v=
g[m],k=v.ta,a.conf.Hd||((w=a.conf.Tc[v.ta])?k=w:a.error("M88",v.ta)),g[m]=k+"="+v.v;g=g.join("&")}}else g=null}t.pop();return g}function c(a){return"navOrXhrMetrics"==a||"cookieMetrics"==a}function d(a){return"undefined"===typeof a||null===a||0===a.length?null:encodeURIComponent(a)}function f(a){return encodeURIComponent(encodeURIComponent(a))}function h(a,b,f){void 0===b&&(b=!1);void 0===f&&(f=!0);if(0===a.length)return null;var c=[];if(b)c=a;else for(b=0;b<a.length;b++)c.push(e(b,a));return d("[")+
c.join(d(","))+d(f?">":"]")}function q(a){a=Math.round(a);a<b.Nb&&(a=b.Nb);a>b.Kb&&(a=b.Kb);return d(a)}function m(a,e){if(a>e||0>a)a=b.Me;return d(a)}function r(d,e,b,f){void 0===f&&(f=!0);if("undefined"===typeof d||null===d||0===d.length)return null;var c=3<=b?"...":"";a.assert(b>=c.length);for(var g=!1,h=null;;){try{h=e(d);if(null===h)return null;if(h.length<=b)break}catch(p){}var m;g?m=d.length-1:(g=!0,m=b-=c.length);var q=f?0:Math.max(d.length-m,0);d=d.substr(q,m)}g&&(h=f?h+c:c+h);return h}function k(d,
e,f){if(0==f)return b.Ea;if(e<d)return 0;e=b.Ea+(e-d)/f;a.assert(e>=b.Ea);a.log("M89",d,e);return e}var l=a.utils.hasOwnPropertyDefined;b.Me=-1;b.J=180;b.Fe=50;b.Ge=50;b.Ae=40;b.Ea=50;b.pe=50;b.Mb=128;b.ve=30;b.we=30;b.ue=30;b.Be=8;b.Nb=-99999;b.Kb=999999;b.qe=2E3;b.Ee=2;b.re=99999999;var s={".pageUrl":b.J,".parentPageUrl":b.J,".pageReferrer":b.J,".pageTitle":b.Fe,".userPageName":b.Ge,".geoCountry":b.ve,".geoRegion":b.we,".geoCity":b.ue,".localIP":b.Be,".otherClientRequestGUIDs":function(a){a=a||
[];var d=a.slice(0,b.Ee);return h(d,!1,d.length<a.length)},".btTime":function(d){d=d||[];for(var e=d.slice(0,a.conf.se),f=[],c=0;c<e.length;c++){var k=e[c];f.push(h([m(Number(k[0]),b.re),q(k[1]),q(k[2])],!0,!1))}return h(f,!0,e.length<d.length)},".ajaxError":function(a){return h([f(a[0]),r(a[1],f,b.pe)],!0,!1)},".userData":function(a){a=a||[];for(var d=!1,e=0,c=[],m=0;m<a.length;m++){var q=a[m];c[m]=h([f(q[0]),f(q[1])],!0,!1);e+=c[m].length;if(e>b.Mb){d=!0;break}}for(;;){a=h(c,!0,d);if(null===a||
a.length<=b.Mb)return a;c.pop();d=!0}}},t=[];b.Ef=function(d,c){void 0===c&&(c=!0);t=[];var m=[];d.errors&&(m=d.errors,d.errors=null);var l=e("",{"":d});if(m&&0<m.length){for(var s=k(c?870:354,b.qe-l.length,m.length),w=[],v=0;v<m.length;v++){var u=m[v],B=a.utils.n.qc(a.utils.n.H(u[0]));w.push(h([r(B,f,b.Ae,!1),a.utils.Ua(u[1])?q(u[1]):-1,r(u[2],f,s)],!0,!1))}m=h(w,!0,!1);l+="&errors="+m}return l};b.mi=e;b.Gi=d;b.element=f;b.gi=h;b.ii=q;b.yi=m;b.truncate=r;b.Di=k})(b.Hb||(b.Hb={}))})(a.beacons||(a.beacons=
{}))})(h||(h={}));(function(a){(function(b){var g=a.utils.hasOwnPropertyDefined,e=a.utils.ma,c=function(){function d(){}d.prototype.Xa=function(e,c,g){for(var h=[],r=[],k=null,l=[],s=0;s<e.length;s++){var t=e[s];if(t.eventType===a.EventType.Error){var u=t;r.push([t.eventUrl+"",a.utils.Ua(u.line)?u.line:void 0,u.message+""])}else{if(t.eventType===a.EventType.PageView||t.eventType===a.EventType.IFRAME)k=t;l.push(t)}}e=l;if(0<r.length)for(k&&(k.errors=r.splice(0,a.conf.ye));0<r.length;)t=r.splice(0,
a.conf.xe),k=d.Xg.make(),k.errors=t,k.isErrorEvent=!0,k.cookieMetrics=null,k.metrics=null,k.resourceTimingInfo=null,e.push(k);for(r=0;r<e.length;r++)t=e[r],a.log("M90"),t.resourceTimingInfo=null,d.Pf(t,c,g),k=d.transform(t),h.push(b.Hb.Ef(k,t.isErrorEvent));return h};d.Pf=function(d,e,b){d.ver=this.ke;d.rootGUID=b.Bc();d.geo=e;d.dataType="R";d.eom=1;d.eumAppKey=a.conf.appKey;d.PLC=1};d.transform=function(a){var e={};d.Md("",{"":a},e);return e};d.Md=function(b,c,h){c=c[b];var m=d.Qc[b];if("metrics"===
b||"cookieMetrics"===b)h[m]=c;else if("btTime"===b&&a.utils.isArray(c)&&0<c.length){b=[];for(var r=0;r<c.length;r++)b.push([c[r].id,c[r].duration,c[r].ert]);h[m]=b}else if("userData"===b&&a.utils.isObject(c))h[m]=a.utils.Ig(c);else if(!(b&&-1<e(["userDataLong","userDataDouble","userDataBoolean","userDataDate"],b)))if(a.utils.isObject(c))for(r in c)g(c,r)&&d.Md(r,c,h);else d.Qc[b]&&("eventType"===b&&c>a.EventType.Ajax&&(c=a.utils.compareWindows(top,window)?a.EventType.PageView:a.EventType.IFRAME),
h[m]=c)};d.Xg=new a.events.D;d.ke=3;d.Qc={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",
dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"};return d}();b.ne=c})(a.beacons||(a.beacons={}))})(h||(h={}));(function(a){(function(a){var g=function(){function a(){}a.prototype.send=function(){};return a}();a.fe=g})(a.beacons||(a.beacons={}))})(h||(h={}));
(function(a){(function(a){var g=function(){function a(){}a.prototype.Xa=function(){return null};return a}();a.ee=g})(a.beacons||(a.beacons={}))})(h||(h={}));(function(a){var b=function(){function b(){}b.jc=function(e,b){if(!e)return null;var d=e.ADRUM.lifecycle;if(!d||!d.getPhaseCallbackTime)return null;var f=b.getPhaseCallbackTime("AT_ONLOAD"),d=d.getPhaseCallbackTime("AT_ONLOAD"),g=null==d;return null==f?(a.error("M91"),null):a.lifecycle.getPhaseID(g||f<=d?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")};return b}();
a.Oe=b;a.cPLPI=b.jc})(h||(h={}));(function(a){(function(b){var g=function(){function e(e){this.ready=!1;this.geoResolverUrl=e;a.utils.isString(e)&&0<a.utils.trim(e).length&&(this.geoResolverUrl=e+"/resolve.js")}e.prototype.init=function(e){this.channel=e;if(this.Ka()&&(a.geo=this.pb(),this.ff()||this.wa()&&!this.vc())){this.channel.jb(a.geo.result);return}this.vc()?(this.wa()&&(this.geoResolverUrl+="?ip="+encodeURIComponent(a.conf.userConf.geo.localIP)),this.Ih()):(this.ready=!0,this.channel.onResolverReady())};
e.prototype.Ka=function(){return a.utils.isDefined(a.conf.userConf)&&a.utils.isDefined(a.conf.userConf.geo)};e.prototype.wa=function(){return this.Ka()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&!a.utils.isDefined(a.conf.userConf.geo.city)&&!a.utils.isDefined(a.conf.userConf.geo.region)&&!a.utils.isDefined(a.conf.userConf.geo.country)};e.prototype.pb=function(){return{failed:!1,result:{country:a.conf.userConf.geo.country,region:a.conf.userConf.geo.region,city:a.conf.userConf.geo.city,localIP:this.Gf(a.conf.userConf.geo.localIP)}}};
e.prototype.ff=function(){return this.Ka()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&a.utils.isDefined(a.conf.userConf.geo.city)&&a.utils.isDefined(a.conf.userConf.geo.region)&&a.utils.isDefined(a.conf.userConf.geo.country)};e.prototype.vc=function(){return a.utils.isString(this.geoResolverUrl)&&0<a.utils.trim(this.geoResolverUrl).length};e.prototype.Gf=function(a){if(null==a||0==a.length)return null;a=a.split(".");if(4!=a.length)return null;for(var d=[],e=0;e<a.length;e++){var b=parseInt(a[e]);
if(isNaN(b)||0>b||255<b)return null;d.push(("0"+b.toString(16)).slice(-2))}return d.join("")};e.prototype.Ih=function(){a.geo={failed:!1,result:null};a.utils.loadScriptAsync(this.geoResolverUrl);var b=this;a.utils.tryPeriodically(e.Ha,function(){return b.isReady()},function(){b.onReady()},function(){b.$a()})};e.prototype.isReady=function(){this.ready||(this.ready=a.geo&&(a.geo.failed||null!==a.geo.result))||a.log("M92");return this.ready};e.prototype.onReady=function(){a.geo.failed?(a.log("M93"),
this.wa()&&(a.geo=this.pb())):(a.assert("object"===typeof a.geo.result),a.log("M94",a.geo.result));a.geo&&a.geo.result&&this.channel.jb(a.geo.result);this.channel.onResolverReady()};e.prototype.$a=function(){a.log("M95");this.wa()&&(a.geo=this.pb());a.geo&&a.geo.result&&this.channel.jb(a.geo.result);this.ready=!0;this.channel.onResolverReady()};e.Ha=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};return e}();b.ie=g})(a.channel||(a.channel={}))})(h||(h={}));(function(a){(function(b){var g=function(){function e(){this.ready=
!1;this.channel=null}e.prototype.init=function(b){this.channel=b;e.p=e.p||e.Rf();this.ready=!e.p.ra;var d=this;if(e.p.ra)a.log("M96"),e.p.ra.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){a.log("M97");d.ready=!0;d.onReady()});else d.onReady()};e.prototype.isReady=function(){this.isReady||a.log("M98");return this.ready};e.prototype.onReady=function(){this.channel.mh(e.p);this.channel.onResolverReady()};e.Rf=function(){for(var b=window,d,f=e.Nc(b),g=window;g.parent&&!a.utils.compareWindows(g,
g.parent);){g=g.parent;f=f||e.Nc(g);try{g.ADRUM&&(d=d||g,b=g)}catch(h){}}return new a.Vd(d,b,f)};e.Nc=function(a){try{return 0==a.document.URL.indexOf("https:")}catch(d){}};e.p=null;return e}();b.Wd=g})(a.channel||(a.channel={}))})(h||(h={}));(function(a){(function(b){var g=function(){function e(d,f,c){this.events=[];this.K={};this.pa=NaN;this.G=[];this.Pa=!1;this.bufferMode=a.conf.userConf&&a.conf.userConf.channel&&"undefined"!==typeof a.conf.userConf.channel.bufferMode?a.conf.userConf.channel.bufferMode:
!0;this.Aa=-1;this.Bh=d;this.gf=f;this.G.push(new b.ie(c));this.G.push(new b.Wd);this.G.push(new b.I)}e.create=function(){var d,b;e.rg()&&!a.conf.sendImageBeacon?(d=new a.beacons.Yd,b=new a.beacons.Xd):e.wg()?(d=new a.beacons.fe,b=new a.beacons.ee):(d=new a.beacons.oe,b=new a.beacons.ne);d=new e(d,b,a.conf.geoResolverUrl);d.init();return d};e.prototype.init=function(){for(var a=0;a<this.G.length;a++)this.G[a].init(this)};e.prototype.Oh=function(d){return(d.parentType===a.EventType.VPageView||d.parentType===
a.EventType.NG_VIRTUAL_PAGE)&&null!==this.K[d.parentGUID]};e.prototype.dh=function(d){var e=d.parentGUID;if(!a.utils.isDefined(this.K[e])){this.K[e]=[];var b=this,c=d.eventGUID;setTimeout(function(){b.La(c)},1E4)}this.K[e].push(d)};e.prototype.report=function(d){d.sequenceId=a.ud.gc.Uf();d.timestamp=d.timestamp||a.utils.now();this.Oh(d)?this.dh(d):this.events.push(d);1==this.events.length&&(this.pa=a.utils.now());var b=d.parentGUID;b&&b!==a.correlation.getPageGUID()||this.La(d.eventGUID);e.vg(d)&&
(this.Pa=!0);this.nb()};e.prototype.La=function(a){var e=this.K[a];this.K[a]=null;if(e&&0!=e.length)for(this.events=this.events.concat(e),a=0;a<e.length;a++)this.La(e[a].eventGUID)};e.prototype.yg=function(d){return d.eventType===a.EventType.PageView||d.eventType===a.EventType.IFRAME};e.prototype.hf=function(){for(var d=0;d<this.events.length;d++){var e=this.events[d];if(this.yg(e)){var b=this.p.ra;b&&(e.parentLifecyclePhase=a.Oe.jc(b,a.lifecycle),e.parentGUID=b.ADRUM.correlation.getPageGUID(),e.parentUrl=
a.utils.n.H(b.document.URL),a.utils.isDefined(b.ADRUM.events.D.userPageName)&&(e.parentPageName=b.ADRUM.events.D.userPageName),e.parentType=a.utils.compareWindows(top,b)?a.EventType.PageView:a.EventType.IFRAME)}}};e.prototype.kh=function(){if(0==this.events.length)a.log("M99");else{this.hf();var e=this.qb(this.events,this.p),b=this.gf.Xa(this.events,this.Qf,this.p);this.Bh.send(b,e);this.events=[];this.pa=Number.POSITIVE_INFINITY}};e.prototype.onResolverReady=function(){this.nb()};e.prototype.jb=
function(a){this.Qf=a};e.prototype.mh=function(a){this.p=a};e.prototype.addResolver=function(a){a.init(this);this.G.push(a)};e.prototype.gh=function(){for(var a=0;a<this.G.length;a++)if(!this.G[a].isReady())return!1;return!0};e.prototype.Pc=function(){return this.pa+a.conf.Jb>a.utils.now()};e.prototype.zg=function(){return this.events.length<a.conf.te};e.prototype.qb=function(e,b){if(b.qb||a.conf.userConf.useHTTPSAlways)return!0;for(var c=0;c<e.length;c++){var g=e[c];if(g.eventUrl&&0==g.eventUrl.indexOf("https:"))return!0}return!1};
e.prototype.getEventsWithParentGUID=function(a){return this.K[a]||[]};e.prototype.nb=function(){if(this.gh())if(this.Nh()){if(this.Pc()&&0<this.events.length&&0>this.Aa){var e=this;this.Aa=setTimeout(function(){e.nb()},a.conf.Jb+this.pa-a.utils.now())}}else clearTimeout(this.Aa),this.Aa=-1,this.Pa=!1,this.kh()};e.vg=function(e){return e.eventType===a.EventType.PageView||e.eventType===a.EventType.IFRAME||e.eventType===a.EventType.VPageView};e.prototype.Nh=function(){return this.bufferMode&&!this.Pa&&
this.zg()&&this.Pc()};e.rg=function(){var a="undefined"!==typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&a};e.wg=function(){return a.conf.userConf&&a.conf.userConf.beacon&&a.conf.userConf.beacon.neverSendImageBeacon};return e}();b.Channel=g;var e=g.create();b.report=function(a){e.report(a)};b.addResolver=function(a){e.addResolver(a)};b.getEventsWithParentGUID=function(a){return e.getEventsWithParentGUID(a)}})(a.channel||(a.channel={}))})(h||
(h={}));(function(a){var b=function(){function b(){}b.dd=function(){return window.attachEvent?a.utils.isFunction(window.addEventListener)?this.rb:this.Dd:this.Gd};b.cd=function(e){var c=null;switch(b.dd()){case b.Gd:c=e.parentPhase();break;case b.rb:c=a.lifecycle.findPhaseAtNominalTime(e.getSendTime());break;case b.Dd:c=null}return a.lifecycle.getPhaseID(c)};b.Gd="uCT";b.rb="uNET";b.Dd="tIA";return b}();a.ka=b})(h||(h={}));(function(a){(function(b){var g=a.utils.hasOwnPropertyDefined,e=function(e){function d(){e.apply(this,
arguments)}u(d,e);d.prototype.make=function(f){var g=e.prototype.make.call(this,f,d.getContext(f)),h=f.url(),m=f.getSendTime(),r=f.getFirstByteTime(),k=f.getRespAvailTime(),l=f.getRespProcTime();a.assert(null!==h&&null!==m&&null!==r&&null!==k&&null!==l,"missing some pieces of XHR data: url="+h+", send="+m+", fbt="+r+", rat="+k+", eut="+l+", parentPhase="+f.parentPhase());if(null===h||null===m||null===r||null===k||null===l)return null;h=f.error();m={PLC:1,FBT:r-m,DDT:k-r,DPT:l-k,PLT:l-m,ARE:h?1:0};
r=f.url();if(!d.Fg(m,r))return null;a.conf.viz&&a.utils.Ma(document.getElementById(a.conf.viz),m,"xhr");a.utils.mergeJSON(g,{eventUrl:a.utils.n.H(r),parentType:f.parentType()||a.EventType.PageView,parentLifecyclePhase:f.parentPhaseId(),metrics:m,method:f.method(),timestamp:f.timestamp(),ajaxError:h&&[h.status,h.msg||""],xhrStatus:f.xhrStatus()});(f=f.parameter())&&b.W.Za(f,a.conf.U)?g.parameter=f:f&&b.W.ua("parameter",a.conf.U);a.utils.nh(g,b.D.userPageName);return g};d.getContext=function(a){return{url:a.url()||
"",method:a.method()||""}};d.Fg=function(e,d){for(var b in e)if(g(e,b)){var c=e[b];if(0>c)return a.error("XHR "+b+" ["+c+"] "+d),!1}return!0};return d}(b.fa);b.Vb=e})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(b){var g=function(e){function b(){e.apply(this,arguments)}u(b,e);b.prototype.make=function(d){var b=e.prototype.make.call(this,d);b&&(d=d.allResponseHeaders()||"",(d=a.correlation.cg(d))&&null!==d&&null!==d.clientRequestGUID&&(b.eventGUID=d.clientRequestGUID),null!==d&&(b.serverMetadata=
d));return b};return b}(b.Vb);b.Qd=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(b){var g=function(e){function c(){e.apply(this,arguments)}u(c,e);c.prototype.make=function(d){var f=e.prototype.make.call(this,d);a.utils.mergeJSON(f,{message:d.msg()||"",timestamp:d.timestamp(),line:d.line(),stack:d.stack(),parentPageName:b.D.userPageName});a.utils.isString(f.userPageName)||(f.userPageName=f.parentPageName);return f};return c}(b.fa);b.Ne=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){(function(g){g.build=
function(e){var c={},d=a.metricSpec[e.type()],f;for(f in d){var g=d[f];if(null!==g.name&&e.perf.getEntryByName(g.start)&&e.perf.getEntryByName(g.end)){e.perf.measure(g.name,g.start,g.end);var h=e.perf.getEntryByName(g.name);c[g.name]=h&&0<=h.duration&&h.duration||null}}for(f in c)c[f]=Math.round(c[f]);return c}})(a.Sb||(a.Sb={}))})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(e){function c(){e.apply(this,arguments)}u(c,e);c.prototype.make=function(d){var f=e.prototype.make.call(this,
d),c=a.Sb.build(d);c.PLC=1;f.metrics=c;f.timestamp=d.timestamp();d=(new a.ResourceTimingInfoBuilder(d.resTiming())).build();null!==d&&(f.resourceTimingInfo=d);return f};return c}(a.fa);a.Ub=g})(a.events||(a.events={}))})(h||(h={}));(function(a){(function(a){var g=function(a){function b(){a.apply(this,arguments)}u(b,a);b.prototype.make=function(d){var b=a.prototype.make.call(this,d);b&&(b.metrics.VDC=d.digestCount()||0);return b};return b}(a.Ub);a.Le=g})(a.events||(a.events={}))})(h||(h={}));(function(a){var b=
a.events||(a.events={});b.jd={};a=[{P:b.PageView,M:new b.D},{P:b.Ajax,M:new b.Vb},{P:b.AdrumAjax,M:new b.Qd},{P:b.Error,M:new b.Ne},{P:b.VPageView,M:new b.Ub},{P:a.ng.NgVPageView,M:new b.Le}];for(var g=0;g<a.length;g++){var e=a[g];e.P.prototype._regId=g;b.jd[g]=e.M}})(h||(h={}));(function(a){(function(b){b.reportEvent=function(b){var e=a.events.jd[b._regId];e?(e=e.make(b),a.utils.isDefined(e)&&(a.log("M101",a.EventType[b.type()]),a.channel.report(e))):a.log("M100"+a.EventType[a.eventType])}})(a.reporter||
(a.reporter={}))})(h||(h={}));(function(a){(function(b){var g=function(){function e(){this.ready=!1}e.prototype.onReady=function(){this.ready=!0;this.channel.onResolverReady()};e.prototype.isReady=function(){this.ready||a.log("M102");return this.ready};e.prototype.init=function(a){this.channel=a};return e}();b.Ze=g})(a.commands||(a.commands={}))})(h||(h={}));(function(a){(function(b){var g=new b.Ze;a.channel.addResolver(g);b.marks={};b.mark=function(e,c){a.log("M103",e,c);b.marks[e]=c};b.reportOnload=
function(e){setTimeout(function(){a.log("M104");a.reporter.reportEvent(e);g.onReady()},a.conf.Xe)};b.reportEvent=function(){a.reporter.reportEvent.apply(a.reporter,arguments)};b.addResolver=function(e){a.channel.addResolver(e)};b.reportXhr=function(e){a.log("M105");a.ka.dd()==a.ka.rb?(a.log("M106"),setTimeout(function(){e.parentPhaseId(a.ka.cd(e));a.reporter.reportEvent(e)},0)):(e.parentPhaseId(a.ka.cd(e)),a.reporter.reportEvent(e))};b.listenForOkToSendChildFrameBeacons=function(e){a.log("M107");
try{e()}catch(b){a.exception(b,"M108")}};b.reportPageError=function(e){var b=e.url();a.log("M109",e.msg(),b,e.line(),e.stack());b&&0!==b.length||e.url("CROSSORIGIN");a.reporter.reportEvent(e)};b.setPageName=function(e){a.events.D.setPageName(e)};b.addUserData=function(e,b){a.events.D.addUserData(e,b)};b.call=function(a){a()}})(a.commands||(a.commands={}))})(h||(h={}));(function(a){(function(a){a.oc=function(g){return encodeURIComponent(a.n.Rg(g))}})(a.utils||(a.utils={}))})(h||(h={}));(function(a){(function(b){var g=
function(){function e(){}e.prototype.setUp=function(){this.Jg();a.utils.addEventListener(window,"pagehide",e.xb);a.utils.addEventListener(window,"beforeunload",e.xb);a.utils.addEventListener(window,"unload",e.xb)};e.prototype.Jg=function(){(this.startTime=e.Nf()||e.Mf())&&a.commands.mark("starttime",this.startTime)};e.Nf=function(){var e;try{if(a.utils.isDefined(window.external)&&a.utils.isNumber(window.external.pageT))e=(new Date).getTime()-window.external.pageT;else if(a.utils.isDefined(window.Dc)&&
a.utils.isFunction(window.Dc.pageT)){var d=window.Dc.pageT();a.utils.isNumber(d)&&(e=(new Date).getTime()-d)}else a.utils.isDefined(window.chrome)&&a.utils.isFunction(window.chrome.csi)&&(d=window.chrome.csi(),a.utils.isDefined(d)&&a.utils.isNumber(d.pageT)&&(e=(new Date).getTime()-d.pageT));e&&(e=Math.round(e),a.log("M110",e))}catch(b){a.exception(b,"M111")}return e};e.Mf=function(){var e=a.correlation.startTimeCookie;if(e){a.log("M112",e.startTime,e.startPage);var d=a.utils.oc(document.referrer);
if(d===e.startPage)if(isNaN(e.startTime))a.log("M113",e.startTime);else return e.startTime;else a.log("M114",d,e.startPage)}else a.log("M115")};e.Af=function(e,d){var b=document.domain,g="https:"===document.location.protocol,h="ADRUM=s="+Number(new Date)+"&r="+a.utils.oc(document.location.href),m=h+";path=/";g&&(m+=";secure");a.log("M116",h);if(!a.conf.useStrictDomainCookies){for(var g=e(),b=b.split("."),r="",k=b.length-1;0<=k;k--){r="."+b[k]+r;a.log("M117",r);d(m+";domain="+r);var l=e();if(l!=g&&
0<=l.indexOf(h)){a.log("M118");a.log("M119");return}}a.log("M120")}a.log("M121");d(m);a.log("M122")};e.xb=function(){var a=!1;return function(){a||(a=!0,e.Af(function(){return document.cookie},function(a){document.cookie=a}))}}();return e}();b.$h=g;b.uh=new g})(a.monitor||(a.monitor={}))})(h||(h={}));(function(a){a.log("M123");a.monitor.uh.setUp();a.q.processQ();a.initEXTDone=!0;a.log("M124")})(h||(h={}))}};})();
